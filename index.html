<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Manlung Tech City | Cyber Security & Cyber Café</title>
  <meta name="description" content="Manlung Tech City — advanced cyber security & cyber-cafe services: penetration testing, SOC, eCitizen, KRA services, printing and more.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --bg:#000;
      --neon:#00ff4d;
      --muted:#cfcfcf;
      --card: rgba(18,18,18,0.86);
      --glass: rgba(0,0,0,0.55);
      --accent:#0df07a;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Tahoma, Geneva, Verdana, sans-serif}
    html,body{height:100%}
    body{background:var(--bg);color:#fff;-webkit-font-smoothing:antialiased;overflow-x:hidden;line-height:1.5}

    /* background grid + scan */
    .grid-lines{position:fixed;inset:0;background-image:
      linear-gradient(rgba(0,255,0,0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,255,0,0.04) 1px, transparent 1px);
      background-size:60px 60px;z-index:-4}
    .scan-line{position:fixed;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--neon),transparent);animation:scan 5s linear infinite;z-index:-3;top:0}
    @keyframes scan{0%{top:0%}100%{top:100%}}

    /* floating shapes */
    .floating-elements{position:fixed;inset:0;z-index:-2;pointer-events:none;overflow:hidden}
    .floating-circle,.floating-ring{position:absolute;border-radius:50%;border:1px solid rgba(0,255,0,0.10);mix-blend-mode:screen;opacity:0.85}

    /* header (logo left, nav right) */
    header{position:fixed;top:0;left:0;right:0;padding:16px 6%;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(rgba(0,0,0,0.62), rgba(0,0,0,0.45));backdrop-filter: blur(8px);z-index:1100;border-bottom:1px solid rgba(0,255,0,0.06)}
    .logo{display:flex;align-items:center;gap:12px;font-weight:800;color:var(--neon);font-size:20px;text-shadow:0 0 10px rgba(0,255,0,0.06)}
    .logo span{color:#fff;font-weight:600}
    .logo-image-container{width:52px;height:52px;position:relative}
    .logo-image{width:100%;height:100%;border-radius:50%;object-fit:cover;background:linear-gradient(45deg,var(--neon),#000)}
    .spinning-ring{position:absolute;inset:-6px;border-radius:50%;border:2px solid transparent;border-top-color:var(--neon);animation:spin 3s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    nav.primary{margin-left:auto;display:flex;align-items:center;gap:18px}
    nav.primary ul{display:flex;gap:18px;list-style:none;align-items:center;margin:0;padding:0}
    nav.primary a{color:#fff;text-decoration:none;font-size:15px;padding:8px 10px;border-radius:8px;position:relative;display:inline-block;transition:.14s}
    nav.primary a:hover{color:var(--neon);background:rgba(0,255,0,0.02)}
    nav.primary a::after{content:'';position:absolute;left:0;bottom:-8px;height:2px;width:0;background:var(--neon);transition:.18s}
    nav.primary a:hover::after{width:100%}
    .mobile-menu{display:none;color:var(--neon);font-size:22px;cursor:pointer;margin-left:12px}

    /* hero */
    .hero{height:86vh;display:flex;align-items:center;padding:0 10%;position:relative;margin-top:74px}
    .hero-content{max-width:780px;z-index:1}
    h1.main-title{font-size:56px;line-height:1.03;margin-bottom:12px}
    h1.main-title span{color:var(--neon);text-shadow:0 0 18px rgba(0,255,0,0.28)}
    .hero p{color:#bdbdbd;margin:18px 0 28px;line-height:1.6;font-size:18px}
    .cta-button{display:inline-block;padding:12px 28px;border:2px solid var(--neon);color:var(--neon);border-radius:9px;text-decoration:none;font-weight:800;transition:.2s;background:transparent;box-shadow:0 0 16px rgba(0,255,0,0.06)}
    .cta-button:hover{background:var(--neon);color:#000;box-shadow:0 0 30px rgba(0,255,0,0.45)}

    /* sections */
    section{padding:92px 10%}
    .section-title{text-align:left;margin-bottom:18px}
    .section-title h2{font-size:36px;color:var(--neon);text-shadow:0 0 10px rgba(0,255,0,0.12)}
    .section-lead{color:#bfbfbf;max-width:920px;line-height:1.6;margin-top:8px;margin-bottom:18px}

    /* services grid */
    .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
    .service-card{background:var(--card);border:1px solid rgba(0,255,0,0.06);padding:20px;border-radius:12px;cursor:pointer;transition:transform .22s,box-shadow .22s;position:relative;overflow:hidden}
    .service-card:hover{transform:translateY(-8px);box-shadow:0 18px 36px rgba(0,255,0,0.06);border-color:var(--neon)}
    .service-icon{font-size:30px;color:var(--neon);margin-bottom:12px}
    .service-card h3{font-size:20px;margin-bottom:6px;color:#e9ffe9}
    .service-card p{color:#cfcfcf;line-height:1.45;font-size:14px}
    .service-meta{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .service-badge{background:rgba(0,255,0,0.06);color:var(--neon);padding:6px 8px;border-radius:8px;font-size:12px;border:1px solid rgba(0,255,0,0.08)}
    .service-tags{font-size:12px;color:#bfffbf}

    /* two columns */
    .two-col{display:flex;gap:28px;align-items:flex-start}
    .col{flex:1}

    /* importance */
    .importance-list{list-style:none;padding-left:0;margin-top:12px}
    .importance-list li{margin:10px 0;color:#d7ffd7;font-size:16px;line-height:1.6}

    /* contact & forms */
    .contact-container{display:flex;gap:30px}
    .contact-info{flex:1}
    .contact-info p{color:#cfcfcf;margin:8px 0;display:flex;gap:12px;align-items:center}
    .contact-form{flex:1}
    .form-group{margin-bottom:12px}
    label{display:block;color:#d3ffd3;margin-bottom:8px;font-size:14px}
    input,textarea,select{width:100%;padding:12px;background:rgba(20,20,20,0.45);border:1px solid rgba(0,255,0,0.06);border-radius:8px;color:#fff}
    input:focus,textarea:focus,select:focus{outline:none;box-shadow:0 0 10px rgba(0,255,0,0.08);border-color:var(--neon)}
    .submit-btn{padding:12px 18px;border-radius:8px;background:transparent;border:2px solid var(--neon);color:var(--neon);font-weight:800;cursor:pointer}
    .submit-btn:disabled{opacity:0.6;cursor:not-allowed}

    /* login card */
    .login-card{max-width:420px;margin:12px auto;padding:18px;border-radius:12px;background:rgba(8,8,8,0.9);border:1px solid rgba(0,255,0,0.06)}
    .login-card h4{color:var(--neon);margin-bottom:10px}

    /* admin panel */
    .admin-panel{position:fixed;right:18px;top:84px;width:360px;max-height:70vh;overflow:auto;background:rgba(6,6,6,0.96);border:1px solid rgba(0,255,0,0.06);padding:12px;border-radius:8px;z-index:2200;display:none}
    .admin-panel.open{display:block}
    .lead-item{padding:8px;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:13px}
    .admin-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}

    /* modal */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.78);z-index:2200;align-items:center;justify-content:center;padding:26px}
    .modal.open{display:flex}
    .modal-content{background:rgba(6,6,6,0.98);border:2px solid var(--neon);border-radius:12px;padding:22px;width:95%;max-width:920px;max-height:86vh;overflow:auto;position:relative}
    .close-modal{position:absolute;right:12px;top:10px;font-size:26px;color:var(--neon);cursor:pointer}
    .modal-title{color:var(--neon);margin-bottom:10px;font-size:22px}
    .modal-topics{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px}
    .modal-section{margin-top:12px}

    /* footer */
    footer{background:linear-gradient(0deg, rgba(0,0,0,0.95), rgba(2,2,2,0.95));padding:34px 10%;border-top:1px solid rgba(0,255,0,0.06);color:#d7ffd7}
    .footer-row{display:flex;align-items:center;justify-content:space-between;gap:18px;flex-wrap:wrap}
    .footer-logo{font-weight:900;color:var(--neon);font-size:18px}
    .paybill{font-weight:800;color:#fff}
    .export-btn{background:transparent;border:2px solid var(--neon);color:var(--neon);padding:8px 12px;border-radius:8px;cursor:pointer}

    /* notification */
    .notification{position:fixed;top:18px;right:18px;background:var(--neon);color:#000;padding:12px 14px;border-radius:10px;display:none;font-weight:800;z-index:3000}

    /* telegram button */
    .telegram-btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:#0088cc;color:white;padding:12px 28px;border-radius:9px;text-decoration:none;font-weight:800;transition:.2s;border:2px solid #0088cc;box-shadow:0 0 16px rgba(0,136,204,0.3)}
    .telegram-btn:hover{background:#0077b5;box-shadow:0 0 30px rgba(0,136,204,0.5);color:white}

    /* Contact Form Styles */
    .contact-form-container {
      max-width: 500px;
      width: 100%;
      background-color: rgba(10, 10, 10, 0.95);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 255, 77, 0.1);
      overflow: hidden;
      border: 1px solid rgba(0, 255, 77, 0.1);
      margin: 0 auto;
    }

    .contact-form-header {
      background: linear-gradient(to right, rgba(0, 255, 77, 0.2), rgba(102, 126, 234, 0.2));
      color: white;
      padding: 25px 20px;
      text-align: center;
      border-bottom: 1px solid rgba(0, 255, 77, 0.1);
    }

    .contact-form-header h1 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 5px;
      color: var(--neon);
    }

    .contact-form-header p {
      font-size: 14px;
      opacity: 0.9;
      color: #cfcfcf;
    }

    .contact-form-body {
      padding: 30px;
    }

    .contact-form-group {
      margin-bottom: 20px;
    }

    .contact-form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #d3ffd3;
    }

    .contact-form-input, .contact-form-textarea {
      width: 100%;
      padding: 12px 15px;
      background: rgba(20, 20, 20, 0.8);
      border: 1px solid rgba(0, 255, 77, 0.1);
      border-radius: 6px;
      font-size: 16px;
      transition: all 0.3s;
      color: white;
    }

    .contact-form-input:focus, .contact-form-textarea:focus {
      outline: none;
      border-color: var(--neon);
      box-shadow: 0 0 0 2px rgba(0, 255, 77, 0.2);
    }

    .contact-form-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .contact-submit-btn {
      background: linear-gradient(to right, rgba(0, 255, 77, 0.8), rgba(102, 126, 234, 0.8));
      color: white;
      border: none;
      padding: 14px 20px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      transition: all 0.3s;
      border: 1px solid rgba(0, 255, 77, 0.2);
    }

    .contact-submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 255, 77, 0.4);
    }

    .contact-submit-btn:active {
      transform: translateY(0);
    }

    .contact-submit-btn:disabled {
      background: #333333;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .contact-message {
      padding: 12px;
      border-radius: 6px;
      margin-top: 20px;
      text-align: center;
      display: none;
    }

    .contact-success {
      background-color: rgba(0, 255, 77, 0.2);
      color: #00ff4d;
      border: 1px solid rgba(0, 255, 77, 0.3);
    }

    .contact-error {
      background-color: rgba(255, 0, 0, 0.2);
      color: #ff4d4d;
      border: 1px solid rgba(255, 0, 0, 0.3);
    }

    .contact-loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
      vertical-align: middle;
    }

    .contact-footer {
      text-align: center;
      padding: 20px;
      font-size: 14px;
      color: #777;
      border-top: 1px solid rgba(0, 255, 77, 0.1);
    }

    /* AI Assistant Styles */
    .ai-assistant-container {
      max-width: 1000px;
      margin: 0 auto;
      background: var(--card);
      border-radius: 12px;
      border: 1px solid rgba(0, 255, 77, 0.1);
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 255, 77, 0.1);
    }

    .ai-header {
      background: linear-gradient(to right, rgba(0, 255, 77, 0.2), rgba(102, 126, 234, 0.2));
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid rgba(0, 255, 77, 0.1);
    }

    .ai-header h2 {
      color: var(--neon);
      margin-bottom: 10px;
      font-size: 28px;
    }

    .ai-header p {
      color: #cfcfcf;
      font-size: 16px;
    }

    .ai-chat-container {
      display: flex;
      flex-direction: column;
      height: 500px;
    }

    .ai-chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .ai-message {
      max-width: 80%;
      padding: 12px 18px;
      border-radius: 18px;
      line-height: 1.5;
      position: relative;
    }

    .ai-user-message {
      align-self: flex-end;
      background: rgba(0, 255, 77, 0.15);
      border: 1px solid rgba(0, 255, 77, 0.2);
      color: #e9ffe9;
    }

    .ai-bot-message {
      align-self: flex-start;
      background: rgba(20, 20, 20, 0.8);
      border: 1px solid rgba(0, 255, 77, 0.1);
      color: #cfcfcf;
    }

    .ai-typing-indicator {
      align-self: flex-start;
      padding: 12px 18px;
      background: rgba(20, 20, 20, 0.8);
      border: 1px solid rgba(0, 255, 77, 0.1);
      border-radius: 18px;
      color: #cfcfcf;
      display: none;
    }

    .ai-typing-dots {
      display: inline-block;
    }

    .ai-typing-dots span {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: var(--neon);
      margin: 0 2px;
      animation: typing 1.4s infinite ease-in-out;
    }

    .ai-typing-dots span:nth-child(1) { animation-delay: -0.32s; }
    .ai-typing-dots span:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }

    .ai-input-container {
      display: flex;
      padding: 15px;
      border-top: 1px solid rgba(0, 255, 77, 0.1);
      background: rgba(10, 10, 10, 0.9);
    }

    .ai-input {
      flex: 1;
      padding: 12px 15px;
      background: rgba(20, 20, 20, 0.8);
      border: 1px solid rgba(0, 255, 77, 0.1);
      border-radius: 24px;
      color: white;
      font-size: 16px;
      outline: none;
    }

    .ai-input:focus {
      border-color: var(--neon);
      box-shadow: 0 0 0 2px rgba(0, 255, 77, 0.2);
    }

    .ai-send-btn {
      background: var(--neon);
      color: #000;
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      margin-left: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .ai-send-btn:hover {
      background: #0df07a;
      box-shadow: 0 0 10px rgba(0, 255, 77, 0.5);
    }

    .ai-send-btn:disabled {
      background: #333;
      color: #666;
      cursor: not-allowed;
    }

    .ai-examples {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .ai-example-card {
      background: rgba(20, 20, 20, 0.6);
      border: 1px solid rgba(0, 255, 77, 0.1);
      border-radius: 8px;
      padding: 15px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .ai-example-card:hover {
      background: rgba(0, 255, 77, 0.1);
      border-color: var(--neon);
    }

    .ai-example-card h4 {
      color: var(--neon);
      margin-bottom: 8px;
    }

    .ai-example-card p {
      color: #cfcfcf;
      font-size: 14px;
    }

    /* Audio overlay */
    #audioOverlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      backdrop-filter: blur(10px);
    }
    
    #audioOverlay .audio-card {
      background: rgba(8,8,8,0.98);
      padding: 30px;
      border-radius: 15px;
      border: 2px solid var(--neon);
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 0 40px rgba(0,255,77,0.3);
    }
    
    #audioOverlay h3 {
      color: var(--neon);
      margin-bottom: 15px;
      font-size: 24px;
    }
    
    #audioOverlay p {
      color: #dfe;
      margin-bottom: 20px;
      line-height: 1.5;
    }
    
    #audioOverlay button {
      background: var(--neon);
      border: none;
      padding: 12px 30px;
      border-radius: 8px;
      color: #000;
      font-weight: 800;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    #audioOverlay button:hover {
      background: #0df07a;
      box-shadow: 0 0 20px rgba(0,255,77,0.5);
      transform: translateY(-2px);
    }

    /* Music controls */
    .music-controls {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1000;
      background: rgba(0,0,0,0.8);
      border: 1px solid var(--neon);
      border-radius: 50px;
      padding: 10px 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      backdrop-filter: blur(10px);
    }
    
    .music-controls button {
      background: transparent;
      border: none;
      color: var(--neon);
      font-size: 18px;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }
    
    .music-controls button:hover {
      background: rgba(0,255,77,0.2);
    }
    
    .volume-slider {
      width: 80px;
      -webkit-appearance: none;
      height: 4px;
      background: rgba(0,255,77,0.3);
      border-radius: 2px;
      outline: none;
    }
    
    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: var(--neon);
      cursor: pointer;
    }

    /* Cybersecurity Hacker Animation - COMPACT VERSION */
    .cyber-animation-container {
      width: 100%;
      height: 300px;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      margin: 20px 0 40px 0;
      overflow: hidden;
    }
    
    .cyber-scene {
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, #0a0a1a, #1a1a2e);
      border-radius: 8px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 100, 255, 0.2);
      border: 1px solid #1e2a3a;
    }
    
    .cyber-desk {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 80px;
      background: linear-gradient(to bottom, #2d1b0e, #1a1008);
      border-top: 2px solid #3a2515;
    }
    
    .cyber-hacker {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 150px;
    }
    
    .cyber-hacker-silhouette {
      position: absolute;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, rgba(0, 255, 0, 0.6) 0%, transparent 70%);
      border-radius: 50% 50% 40% 40%;
      box-shadow: 
        0 0 20px #00ff00,
        0 0 40px #00ff00,
        0 0 60px #00ff00;
      filter: blur(3px);
    }
    
    .cyber-hacker-head {
      position: absolute;
      top: 10%;
      left: 25%;
      width: 50%;
      height: 30%;
      background: rgba(0, 255, 0, 0.2);
      border-radius: 50%;
      box-shadow: 0 0 15px #00ff00;
    }
    
    .cyber-laptop-container {
      position: absolute;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 180px;
      height: 110px;
      z-index: 5;
    }
    
    .cyber-laptop {
      position: absolute;
      width: 100%;
      height: 100%;
      background: #111;
      border-radius: 6px 6px 0 0;
      box-shadow: 0 0 12px rgba(0, 100, 255, 0.5);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .cyber-laptop-screen {
      width: 90%;
      height: 70%;
      background: #0a0a1a;
      border: 1px solid #00aaff;
      border-radius: 3px;
      overflow: hidden;
      position: relative;
    }
    
    .cyber-screen-image {
      width: 100%;
      height: 100%;
      background: url('https://images.unsplash.com/photo-1548092372-0d1bd40894a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80') no-repeat center center;
      background-size: cover;
      filter: brightness(0.8) contrast(1.2);
      position: absolute;
      top: 0;
      left: 0;
    }
    
    .cyber-screen-overlay {
      position: absolute;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      flex-direction: column;
      padding: 5px;
      overflow: hidden;
    }
    
    .cyber-attack-messages {
      position: relative;
      height: 100%;
      overflow: hidden;
    }
    
    .cyber-attack-line {
      font-family: 'Courier New', monospace;
      font-size: 10px;
      color: #ff0000;
      padding: 1px 0;
      white-space: nowrap;
      text-shadow: 0 0 3px #ff0000, 0 0 6px #00ff00;
      position: absolute;
      width: 100%;
      animation: cyberAttackScrollVertical 4s linear infinite;
    }
    
    .cyber-attack-line:nth-child(1) { left: 0%; animation-delay: 0s; }
    .cyber-attack-line:nth-child(2) { left: 10%; animation-delay: 0.4s; }
    .cyber-attack-line:nth-child(3) { left: 20%; animation-delay: 0.8s; }
    .cyber-attack-line:nth-child(4) { left: 30%; animation-delay: 1.2s; }
    .cyber-attack-line:nth-child(5) { left: 40%; animation-delay: 1.6s; }
    .cyber-attack-line:nth-child(6) { left: 50%; animation-delay: 2s; }
    .cyber-attack-line:nth-child(7) { left: 60%; animation-delay: 2.4s; }
    .cyber-attack-line:nth-child(8) { left: 70%; animation-delay: 2.8s; }
    .cyber-attack-line:nth-child(9) { left: 80%; animation-delay: 3.2s; }
    .cyber-attack-line:nth-child(10) { left: 90%; animation-delay: 3.6s; }
    
    .cyber-laptop-keyboard {
      width: 95%;
      height: 25%;
      background: #222;
      border-radius: 3px;
      margin-top: 3px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .cyber-keyboard-light {
      width: 6px;
      height: 6px;
      background: #ff0000;
      border-radius: 50%;
      box-shadow: 0 0 6px #ff0000, 0 0 12px #00ff00;
      animation: cyberBlink 1s infinite;
    }
    
    .cyber-padlock {
      position: absolute;
      bottom: 140px;
      right: 80px;
      font-size: 24px;
      animation: cyberLockToggle 3s ease-in-out infinite;
      z-index: 5;
      filter: drop-shadow(0 0 6px currentColor);
    }
    
    .cyber-security-status {
      position: absolute;
      bottom: 120px;
      right: 70px;
      font-size: 10px;
      color: #ff0000;
      text-transform: uppercase;
      letter-spacing: 1px;
      animation: cyberStatusPulse 3s ease-in-out infinite;
    }
    
    .cyber-data-flow {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    
    .cyber-data-node {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #ff0000;
      border-radius: 50%;
      box-shadow: 0 0 4px #ff0000, 0 0 8px #00ff00;
      animation: cyberDataFlow 4s linear infinite;
    }
    
    .cyber-full-screen-attacks {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 2;
    }
    
    .cyber-full-screen-line {
      position: absolute;
      font-family: 'Courier New', monospace;
      font-size: 10px;
      color: #ff0000;
      white-space: nowrap;
      text-shadow: 0 0 3px #ff0000, 0 0 6px #00ff00;
      animation: cyberFullScreenScroll 6s linear infinite;
    }
    
    .cyber-footer {
      margin-top: 10px;
      text-align: center;
      font-size: 10px;
      color: #6080a0;
    }
    
    @keyframes cyberLockToggle {
      0%, 50% {
        color: #ff0000;
      }
      51%, 100% {
        color: #00ff00;
      }
    }
    
    @keyframes cyberStatusPulse {
      0%, 50% {
        color: #ff0000;
        text-shadow: 0 0 3px #ff0000, 0 0 6px #00ff00;
      }
      51%, 100% {
        color: #00ff00;
        text-shadow: 0 0 3px #00ff00, 0 0 6px #ff0000;
      }
    }
    
    @keyframes cyberBlink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    
    @keyframes cyberAttackScrollVertical {
      0% { 
        transform: translateY(100%);
        opacity: 0;
      }
      10% { 
        opacity: 1;
      }
      90% { 
        opacity: 1;
      }
      100% { 
        transform: translateY(-100%);
        opacity: 0;
      }
    }
    
    @keyframes cyberDataFlow {
      0% { 
        transform: translateY(0) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% { 
        transform: translateY(-100vh) translateX(20px);
        opacity: 0;
      }
    }
    
    @keyframes cyberFullScreenScroll {
      0% { 
        transform: translateY(100vh);
        opacity: 0;
      }
      5% { 
        opacity: 1;
      }
      95% { 
        opacity: 1;
      }
      100% { 
        transform: translateY(-100%);
        opacity: 0;
      }
    }

    @media (max-width: 480px) {
      .ai-chat-container {
        height: 400px;
      }
      
      .ai-message {
        max-width: 90%;
      }
      
      .music-controls {
        bottom: 10px;
        left: 10px;
        padding: 8px 12px;
      }
      
      .volume-slider {
        width: 60px;
      }

      .cyber-animation-container {
        height: 200px;
        margin: 15px 0 30px 0;
      }
      
      .cyber-laptop-container {
        width: 140px;
        height: 85px;
        bottom: 80px;
      }
      
      .cyber-hacker {
        width: 80px;
        height: 100px;
        bottom: 60px;
      }
      
      .cyber-padlock {
        bottom: 100px;
        right: 50px;
        font-size: 18px;
      }
      
      .cyber-security-status {
        bottom: 85px;
        right: 45px;
        font-size: 8px;
      }
    }

    @media (max-width: 980px){.two-col{flex-direction:column}}
    @media (max-width: 760px){header{padding:12px 5%}.hero{padding:0 6%}h1.main-title{font-size:34px}}
    @media (max-width: 640px){nav.primary ul{display:none;flex-direction:column;background:rgba(0,0,0,0.6);position:absolute;right:6%;top:64px;padding:10px;border-radius:10px}.mobile-menu{display:block}.admin-panel{position:static;width:auto;max-height:none;margin:10px;border-radius:8px}}
  </style>
</head>
<body>
  <!-- Background Music -->
  <audio id="bgMusic" loop>
    <source src="https://files.catbox.moe/1k7fw1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Audio Enable Overlay -->
  <div id="audioOverlay">
    <div class="audio-card">
      <h3>🎵 Background Music</h3>
      <p>Would you like to enable background music while browsing our website?</p>
      <button id="enableAudioBtn">Enable Music</button>
    </div>
  </div>

  <!-- Music Controls -->
  <div class="music-controls" id="musicControls" style="display: none;">
    <button id="playPauseBtn">
      <i class="fas fa-play"></i>
    </button>
    <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="0.3">
    <button id="muteBtn">
      <i class="fas fa-volume-up"></i>
    </button>
  </div>

  <div class="grid-lines"></div>
  <div class="floating-elements" id="floatingElements" aria-hidden="true"></div>
  <div class="scan-line" aria-hidden="true"></div>
  <div class="notification" id="notification" role="status" aria-live="polite"></div>

  <!-- header -->
  <header>
    <div class="logo" aria-label="Manlung Tech City logo">
      <div class="logo-image-container" aria-hidden="true">
        <img class="logo-image" src="https://files.catbox.moe/6f0njf.png" alt="Manlung Tech City" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 60 60&quot;><rect width=&quot;60&quot; height=&quot;60&quot; fill=&quot;black&quot;/></svg>'">
        <div class="spinning-ring" aria-hidden="true"></div>
      </div>
      Manlung <span>Tech City</span>
    </div>

    <nav class="primary" aria-label="Primary navigation">
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#manlung-ai">Manlung AI</a></li>
        <li><a href="#cyber-security">Cyber Security</a></li>
        <li><a href="#cyber-support">Cyber Support</a></li>
        <li><a href="#approach">Approach</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <div class="mobile-menu" id="mobileMenuToggle" aria-label="Open menu"><i class="fas fa-bars" style="color:var(--neon)"></i></div>
    </nav>
  </header>

  <!-- hero -->
  <section class="hero" id="home" aria-labelledby="heroTitle">
    <div class="hero-content">
      <h1 class="main-title" id="heroTitle">Advanced <span>Cyber Security</span> & <span>Cyber Café</span> Services</h1>
      <p>Protecting digital assets while offering everyday digital services — from penetration testing and real-time monitoring to eCitizen assistance, printing, KRA services, and software support.</p>
      <a class="cta-button" href="#manlung-ai">Try Manlung AI</a>
      <a class="cta-button" href="#cyber-security" style="margin-left: 15px;">Explore Cyber Security</a>
    </div>
  </section>

  <!-- Compact Cybersecurity Hacker Animation -->
  <div class="cyber-animation-container">
    <div class="cyber-scene">
      <div class="cyber-desk"></div>
      
      <div class="cyber-hacker">
        <div class="cyber-hacker-silhouette"></div>
        <div class="cyber-hacker-head"></div>
      </div>
      
      <div class="cyber-laptop-container">
        <div class="cyber-laptop">
          <div class="cyber-laptop-screen">
            <div class="cyber-screen-image"></div>
            <div class="cyber-screen-overlay">
              <div class="cyber-attack-messages">
                <div class="cyber-attack-line">ATTACK: 40%</div>
                <div class="cyber-attack-line">ATTACK: 50%</div>
                <div class="cyber-attack-line">ATTACK: 60%</div>
                <div class="cyber-attack-line">ATTACK: 70%</div>
                <div class="cyber-attack-line">ATTACK: 80%</div>
                <div class="cyber-attack-line">SENDING FILE</div>
                <div class="cyber-attack-line">PORT 443</div>
                <div class="cyber-attack-line">FIREWALL BYPASSED</div>
                <div class="cyber-attack-line">DATA TRANSFER</div>
                <div class="cyber-attack-line">SYSTEM 20%</div>
              </div>
            </div>
          </div>
          <div class="cyber-laptop-keyboard">
            <div class="cyber-keyboard-light"></div>
          </div>
        </div>
      </div>
      
      <div class="cyber-padlock">
        <i class="fas fa-lock"></i>
      </div>
      
      <div class="cyber-security-status">BREACHED</div>
      
      <div class="cyber-data-flow">
        <!-- Data nodes will be generated by JavaScript -->
      </div>
      
      <div class="cyber-full-screen-attacks">
        <!-- Full screen attack messages will be generated by JavaScript -->
      </div>
    </div>
    
    <div class="cyber-footer">
      CYBERSECURITY SYSTEMS COMPROMISED | INITIATING COUNTERMEASURES | LAST SCAN: JUST NOW
    </div>
  </div>

  <!-- Cyber Security Services (expanded & human-focused) -->
  <section id="cyber-security" aria-labelledby="csTitle">
    <div class="section-title"><h2 id="csTitle">Cyber Security Services</h2></div>
    <p class="section-lead">At <strong>Manlung Tech City</strong> we provide a full spectrum of cyber security services that combine automated tooling with experienced human analysts. Each service below includes hands-on support, clear deliverables and practical follow-up so people and businesses stay safe.</p>

    <div class="services-grid" id="cyberServicesGrid">
      <div class="service-card" data-service="penetration">
        <div class="service-icon"><i class="fas fa-user-secret"></i></div>
        <h3>Penetration Testing</h3>
        <p>Ethical hacking by senior testers to uncover vulnerabilities before attackers do.</p>
        <div class="service-meta"><div class="service-badge">Human-led</div><div class="service-tags">Report • Remediation Plan • Re-test</div></div>
      </div>

      <div class="service-card" data-service="incident">
        <div class="service-icon"><i class="fas fa-bolt"></i></div>
        <h3>Incident Response & Forensics</h3>
        <p>Rapid containment, evidence collection and guided recovery with human analysts.</p>
        <div class="service-meta"><div class="service-badge">24/7 Support</div><div class="service-tags">Containment • Forensics • Root Cause</div></div>
      </div>

      <div class="service-card" data-service="monitoring">
        <div class="service-icon"><i class="fas fa-headset"></i></div>
        <h3>24/7 Monitoring (SOC)</h3>
        <p>Continuous detection with SIEM and analyst triage to reduce time-to-detect.</p>
        <div class="service-meta"><div class="service-badge">Managed</div><div class="service-tags">Alerts • Investigation • Response</div></div>
      </div>

      <div class="service-card" data-service="cloudsec">
        <div class="service-icon"><i class="fas fa-cloud"></i></div>
        <h3>Cloud & Infrastructure Security</h3>
        <p>Secure cloud architecture reviews, IAM hardening and configuration fixes.</p>
        <div class="service-meta"><div class="service-badge">Expert Review</div><div class="service-tags">Architecture • IAM • DLP</div></div>
      </div>

      <div class="service-card" data-service="appsec">
        <div class="service-icon"><i class="fas fa-code-branch"></i></div>
        <h3>Application Security (DevSecOps)</h3>
        <p>Secure code reviews, SAST/DAST scans and CI/CD pipeline integration.</p>
        <div class="service-meta"><div class="service-badge">Dev + Sec</div><div class="service-tags">SAST • DAST • Remediation</div></div>
      </div>

      <div class="service-card" data-service="iam">
        <div class="service-icon"><i class="fas fa-id-badge"></i></div>
        <h3>Identity & Access Management (IAM)</h3>
        <p>Policies, role modelling and multi-factor setup to reduce account risk.</p>
        <div class="service-meta"><div class="service-badge">Policy-driven</div><div class="service-tags">MFA • Roles • Reviews</div></div>
      </div>

      <div class="service-card" data-service="vuln">
        <div class="service-icon"><i class="fas fa-bug"></i></div>
        <h3>Vulnerability Management & Patching</h3>
        <p>Regular scans, prioritization and patch orchestration with human verification.</p>
        <div class="service-meta"><div class="service-badge">Ongoing</div><div class="service-tags">Scan • Triage • Patching</div></div>
      </div>

      <div class="service-card" data-service="encryption">
        <div class="service-icon"><i class="fas fa-lock"></i></div>
        <h3>Data Protection & Encryption</h3>
        <p>Data classification, encryption strategies, and secure key management guidance.</p>
        <div class="service-meta"><div class="service-badge">Compliance-ready</div><div class="service-tags">AES • TLS • KMS</div></div>
      </div>

      <div class="service-card" data-service="threat">
        <div class="service-icon"><i class="fas fa-search"></i></div>
        <h3>Threat Intelligence & Hunting</h3>
        <p>Proactive threat hunting and local intelligence tailored to your sector.</p>
        <div class="service-meta"><div class="service-badge">Proactive</div><div class="service-tags">Hunting • Intel • IOC</div></div>
      </div>

      <div class="service-card" data-service="training">
        <div class="service-icon"><i class="fas fa-chalkboard-teacher"></i></div>
        <h3>Security Awareness & Training</h3>
        <p>Practical workshops, phishing simulations and on-site training for staff & youth.</p>
        <div class="service-meta"><div class="service-badge">Hands-on</div><div class="service-tags">Workshops • Phishing • Certification</div></div>
      </div>
    </div>
  </section>

  <!-- Manlung AI Assistant -->
  <section id="manlung-ai" aria-labelledby="aiTitle">
    <div class="section-title"><h2 id="aiTitle">Manlung AI Assistant</h2></div>
    <p class="section-lead">Get instant help with our AI assistant. Ask questions about our services, get technical support, or learn more about cybersecurity. Our AI is here to help 24/7.</p>

    <div class="ai-assistant-container">
      <div class="ai-header">
        <h2>Manlung AI Assistant</h2>
        <p>Ask me anything about our services, cybersecurity, or tech support</p>
      </div>
      
      <div class="ai-chat-container">
        <div class="ai-chat-messages" id="aiChatMessages">
          <div class="ai-message ai-bot-message">
            Hello! I'm the Manlung AI Assistant. How can I help you today? You can ask me about our cybersecurity services, cyber café offerings, or get technical support.
          </div>
        </div>
        
        <div class="ai-typing-indicator" id="aiTypingIndicator">
          <div class="ai-typing-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
          Manlung AI is typing...
        </div>
        
        <div class="ai-input-container">
          <input type="text" class="ai-input" id="aiInput" placeholder="Type your message here..." autocomplete="off">
          <button class="ai-send-btn" id="aiSendBtn">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
      
      <div style="padding: 20px; border-top: 1px solid rgba(0, 255, 77, 0.1);">
        <h3 style="color: var(--neon); margin-bottom: 15px; text-align: center;">Try asking me about:</h3>
        <div class="ai-examples">
          <div class="ai-example-card" onclick="insertExample('What cybersecurity services do you offer?')">
            <h4>Cybersecurity Services</h4>
            <p>Learn about our penetration testing, monitoring, and incident response</p>
          </div>
          <div class="ai-example-card" onclick="insertExample('How can I get help with KRA services?')">
            <h4>KRA Services</h4>
            <p>Information about PIN registration, tax returns, and compliance</p>
          </div>
          <div class="ai-example-card" onclick="insertExample('Tell me about your cyber café services')">
            <h4>Cyber Café</h4>
            <p>Printing, scanning, typing, and internet access services</p>
          </div>
          <div class="ai-example-card" onclick="insertExample('How do I contact Manlung Tech City?')">
            <h4>Contact Information</h4>
            <p>Get our location, phone number, and business hours</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cyber Support & Cyber-Café Services (includes KRA services) -->
  <section id="cyber-support" aria-labelledby="csupTitle">
    <div class="section-title"><h2 id="csupTitle">Cyber Support & Cyber-Café Services</h2></div>
    <p class="section-lead">We pair advanced security with practical services the community needs every day. Quick, reliable and secure — that's the Manlung promise.</p>

    <div class="services-grid">
      <div class="service-card" data-service="ecitizen"><div class="service-icon"><i class="fas fa-user-check"></i></div><h3>eCitizen & Government</h3><p>Assistance with passports, birth certificates, Good Conduct and more.</p></div>

      <div class="service-card" data-service="printing"><div class="service-icon"><i class="fas fa-print"></i></div><h3>Printing, Scanning & Photocopy</h3><p>Fast color printing, bulk photocopying, scanning to PDF and OCR.</p></div>

      <div class="service-card" data-service="typing"><div class="service-icon"><i class="fas fa-keyboard"></i></div><h3>Typing & CV / Applications</h3><p>Professional CVs, application letters and document formatting.</p></div>

      <div class="service-card" data-service="wifi"><div class="service-icon"><i class="fas fa-wifi"></i></div><h3>Wi-Fi & Internet Access</h3><p>Secured browsing stations and private workspaces.</p></div>

      <div class="service-card" data-service="softwaredev"><div class="service-icon"><i class="fas fa-code"></i></div><h3>Software & Web Services</h3><p>Websites, mobile apps, installations and maintenance.</p></div>

      <div class="service-card" data-service="lamination"><div class="service-icon"><i class="fas fa-id-card"></i></div><h3>Lamination & Binding</h3><p>Document finishing and certificate lamination.</p></div>
    </div>

    <!-- KRA Services block -->
    <div style="margin-top:26px">
      <div class="section-title"><h2 style="font-size:26px;color:var(--neon)">KRA & Tax Services</h2></div>
      <p class="section-lead">Complete KRA support for individuals and businesses — we guide you through every KRA online process.</p>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:12px">
        <div class="service-card"><h3>KRA PIN Registration</h3><p>Apply for a new KRA PIN for individuals, companies and NGOs.</p></div>
        <div class="service-card"><h3>PIN Replacement & Updates</h3><p>Update personal details, replace lost PIN certificates and correct records.</p></div>
        <div class="service-card"><h3>iTax Returns</h3><p>Assistance with filing income tax returns and uploading documents on iTax.</p></div>
        <div class="service-card"><h3>Tax Compliance Certificates (TCC)</h3><p>Support to obtain and renew Tax Compliance Certificates.</p></div>
        <div class="service-card"><h3>PAYE & Employer Registration</h3><p>Register your business, set up PAYE and submit employer returns.</p></div>
        <div class="service-card"><h3>Withholding Tax & VAT</h3><p>Help with filings for VAT, withholding taxes and related reconciliations.</p></div>
      </div>
    </div>
  </section>

  <!-- Approach & Why it matters -->
  <section id="approach" aria-labelledby="approachTitle">
    <div class="section-title"><h2 id="approachTitle">Manlung's Approach & Why Cyber Security Matters</h2></div>
    <div class="two-col">
      <div class="col">
        <p class="section-lead">Manlung Tech City protects people and businesses by combining technical expertise, rapid response and community education. We treat security as an ongoing program.</p>
        <ul class="importance-list">
          <li>🔒 <strong>Protect personal data</strong> — prevent identity theft and fraud for café users and customers.</li>
          <li>🛡️ <strong>Protect micro & small businesses</strong> — stop ransomware and data loss with backups and defenses.</li>
          <li>⚡ <strong>Safe public access</strong> — secure Wi-Fi, session isolation, and browsing filters to protect visitors.</li>
          <li>📈 <strong>Build digital trust</strong> — secure government & banking interactions for the community.</li>
          <li>🎓 <strong>Train & empower</strong> — hands-on workshops and awareness campaigns for youth and staff.</li>
        </ul>
      </div>

      <div class="col">
        <h3 style="color:var(--neon);margin-bottom:10px">Incident Response & Community SOC</h3>
        <p style="color:#d6ffde;line-height:1.5">Our incident response procedures identify, isolate and remediate incidents. Manlung provides a local SOC-like capability for monitoring events and coordinating recovery.</p>
        <h3 style="color:var(--neon);margin-top:14px;margin-bottom:10px">Compliance & Business Support</h3>
        <p style="color:#d6ffde;line-height:1.5">We help small businesses comply with local digital requirements and assist with KRA/PIN submissions, reducing compliance risk.</p>
      </div>
    </div>
  </section>

  <!-- Contact & forms (Telegram integrated) -->
  <section id="contact" aria-labelledby="contactTitle">
    <div class="section-title"><h2 id="contactTitle">Contact & Get a Quote</h2></div>
    
    <div class="contact-container">
      <div class="contact-info">
        <h3 style="color:var(--neon)">Get in Touch</h3>
        <p><i class="fas fa-map-marker-alt"></i> Tech City, Nairobi</p>
        <p><i class="fas fa-phone"></i> +254 724 356 178</p>
        <p><i class="fab fa-telegram-plane"></i> @manlungtechcitybot</p>
        <p><i class="fas fa-clock"></i> Mon-Fri: 9:00 AM - 6:00 PM</p>
      </div>

      <!-- Contact Form -->
      <div class="contact-form-container">
        <div class="contact-form-header">
          <h1>Contact Us</h1>
          <p>Send us a message and we'll get back to you soon</p>
        </div>
        
        <div class="contact-form-body">
          <form id="contactForm">
            <div class="contact-form-group">
              <label for="name" class="contact-form-label">Full Name</label>
              <input type="text" id="name" name="name" class="contact-form-input" placeholder="Enter your full name" required>
            </div>
            
            <div class="contact-form-group">
              <label for="phone" class="contact-form-label">Phone Number</label>
              <input type="tel" id="phone" name="phone" class="contact-form-input" placeholder="Enter your phone number" required>
            </div>
            
            <div class="contact-form-group">
              <label for="message" class="contact-form-label">Message</label>
              <textarea id="message" name="message" class="contact-form-textarea" placeholder="Enter your message" required></textarea>
            </div>
            
            <button type="submit" class="contact-submit-btn" id="submitBtn">
              <span id="btnText">Send Message</span>
            </button>
            
            <div id="responseMessage" class="contact-message"></div>
          </form>
        </div>
        
        <div class="contact-footer">
          <p>We'll respond to your message as soon as possible</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer + export leads -->
  <footer>
    <div class="footer-row" role="contentinfo">
      <div class="footer-logo">Manlung Tech City</div>
      <div><div class="paybill">Paybill: <strong>522522</strong> | Account: <strong>1336980125</strong></div></div>
      <div><button id="exportLeads" class="export-btn" title="Export leads to CSV"><i class="fas fa-file-csv"></i> Export Leads</button></div>
    </div>
    <div style="margin-top:18px;color:#bfffbf;opacity:0.95">&copy; 2025 Manlung Tech City. All rights reserved.</div>
  </footer>

  <!-- Service modal (details + Telegram form) -->
  <div class="modal" id="serviceModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <span class="close-modal" id="closeModal" title="Close">&times;</span>
      <h2 class="modal-title" id="modalTitle">Service Details</h2>
      <div id="modalDescription" style="color:#dfe"></div>

      <div class="modal-section"><h4 style="color:var(--neon);margin-top:12px">What we do</h4><ul id="modalWhat" style="color:#dfe;margin-left:16px"></ul></div>
      <div class="modal-section"><h4 style="color:var(--neon);margin-top:12px">Human Support</h4><div id="modalHuman" style="color:#dfe"></div></div>
      <div class="modal-section"><h4 style="color:var(--neon);margin-top:12px">Deliverables</h4><ul id="modalDeliver" style="color:#dfe;margin-left:16px"></ul></div>

      <h3 style="color:var(--neon);margin-top:16px">Related Topics</h3>
      <div class="modal-topics" id="modalTopics"></div>

      <!-- Telegram consultation request -->
      <div class="lead-form" id="leadFormContainer" style="margin-top:14px">
        <h3 style="color:var(--neon)">Request a Free Quote via Telegram</h3>
        <form id="leadForm" onsubmit="redirectToTelegram(event, document.getElementById('leadService').value)">
          <input id="leadName" name="name" type="text" placeholder="Your name" required style="margin-bottom:8px">
          <input id="leadEmail" name="email" type="email" placeholder="Your email" required style="margin-bottom:8px">
          <input id="leadPhone" name="phone" type="tel" placeholder="Phone" required style="margin-bottom:8px">
          <input id="leadService" name="service" type="hidden" value="">
          <input type="hidden" name="source" value="service-modal">
          <button class="telegram-btn" id="submitLead" type="submit" style="width:100%"><i class="fab fa-telegram-plane"></i> Request Consultation via Telegram</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Admin panel (client-side demo) -->
  <div class="admin-panel" id="adminPanel" role="region" aria-label="Admin panel">
    <h4 style="color:var(--neon);margin:6px 0">Admin — Leads</h4>
    <div id="leadsList" style="max-height:56vh;overflow:auto"></div>
    <div class="admin-actions"><button id="clearLeads" class="export-btn">Clear All Leads</button></div>
    <div style="font-size:12px;color:#bfb;margin-top:8px">Demo admin view — use secure server for production.</div>
  </div>

  <!-- Telegram quick -->
  <div style="position:fixed;right:18px;bottom:18px;z-index:1200">
    <a href="https://t.me/manlungtechcitybot" class="telegram-btn" style="border-radius:50%;padding:14px 16px;font-size:18px" aria-label="Telegram">
      <i class="fab fa-telegram-plane"></i>
    </a>
  </div>

  <script>
    // ========== MUSIC PLAYER FUNCTIONALITY ==========
    const bgMusic = document.getElementById('bgMusic');
    const audioOverlay = document.getElementById('audioOverlay');
    const enableAudioBtn = document.getElementById('enableAudioBtn');
    const musicControls = document.getElementById('musicControls');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const muteBtn = document.getElementById('muteBtn');

    // Initialize music settings
    let musicEnabled = false;
    bgMusic.volume = 0.3; // Default volume

    // Show audio overlay on page load
    window.addEventListener('load', function() {
      setTimeout(() => {
        audioOverlay.style.display = 'flex';
      }, 1000);
    });

    // Enable audio when user clicks the button
    enableAudioBtn.addEventListener('click', function() {
      bgMusic.play()
        .then(() => {
          musicEnabled = true;
          audioOverlay.style.display = 'none';
          musicControls.style.display = 'flex';
          showNotification('Background music enabled! 🎵');
        })
        .catch(error => {
          console.error('Audio playback failed:', error);
          showNotification('Could not play audio. Please check browser permissions.', 'error');
        });
    });

    // Play/Pause functionality
    playPauseBtn.addEventListener('click', function() {
      if (bgMusic.paused) {
        bgMusic.play();
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        bgMusic.pause();
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    });

    // Volume control
    volumeSlider.addEventListener('input', function() {
      bgMusic.volume = this.value;
      // Update mute button icon based on volume
      if (this.value == 0) {
        muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
      } else if (this.value < 0.5) {
        muteBtn.innerHTML = '<i class="fas fa-volume-down"></i>';
      } else {
        muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
      }
    });

    // Mute functionality
    muteBtn.addEventListener('click', function() {
      if (bgMusic.muted) {
        bgMusic.muted = false;
        muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
      } else {
        bgMusic.muted = true;
        muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
      }
    });

    // ========== CYBER ANIMATION FUNCTIONALITY ==========
    // Create data flow nodes
    const cyberDataFlow = document.querySelector('.cyber-data-flow');
    for (let i = 0; i < 20; i++) {
      const node = document.createElement('div');
      node.classList.add('cyber-data-node');
      node.style.left = Math.random() * 100 + '%';
      node.style.animationDelay = Math.random() * 5 + 's';
      cyberDataFlow.appendChild(node);
    }
    
    // Add some random movement to the hacker silhouette
    const cyberHacker = document.querySelector('.cyber-hacker-silhouette');
    setInterval(() => {
      const glow = 20 + Math.random() * 10;
      cyberHacker.style.boxShadow = `0 0 ${glow}px #00ff00, 0 0 ${glow * 2}px #00ff00, 0 0 ${glow * 3}px #00ff00`;
    }, 1000);
    
    // Create full screen attack messages
    const cyberFullScreenAttacks = document.querySelector('.cyber-full-screen-attacks');
    const cyberAttackMessages = [
      "ATTACK DETECTED: 40% PENETRATION",
      "ATTACK DETECTED: 50% PENETRATION",
      "ATTACK DETECTED: 60% PENETRATION",
      "ATTACK DETECTED: 70% PENETRATION",
      "ATTACK DETECTED: 80% PENETRATION",
      "SENDING FILE: confidential_data.zip",
      "INTRUSION: Port 443 compromised",
      "BREACH: Firewall bypassed",
      "EXFILTRATION: Data transfer in progress",
      "ALERT: System integrity at 20%",
      "MALWARE DETECTED: Trojan.Hydra",
      "UNAUTHORIZED ACCESS: Admin credentials",
      "DATA LEAK: 2.4GB transferred",
      "BACKDOOR INSTALLED: System compromised",
      "RANSOMWARE ACTIVATED: Files encrypted"
    ];
    
    // Create initial full screen attack lines
    for (let i = 0; i < 10; i++) {
      const line = document.createElement('div');
      line.classList.add('cyber-full-screen-line');
      line.textContent = cyberAttackMessages[Math.floor(Math.random() * cyberAttackMessages.length)];
      line.style.left = Math.random() * 80 + '%';
      line.style.animationDelay = Math.random() * 6 + 's';
      line.style.animationDuration = (4 + Math.random() * 3) + 's';
      cyberFullScreenAttacks.appendChild(line);
    }
    
    // Add new attack lines periodically
    setInterval(() => {
      const line = document.createElement('div');
      line.classList.add('cyber-full-screen-line');
      line.textContent = cyberAttackMessages[Math.floor(Math.random() * cyberAttackMessages.length)];
      line.style.left = Math.random() * 80 + '%';
      line.style.animationDuration = (4 + Math.random() * 3) + 's';
      cyberFullScreenAttacks.appendChild(line);
      
      // Remove old lines to prevent too many elements
      if (cyberFullScreenAttacks.children.length > 15) {
        cyberFullScreenAttacks.removeChild(cyberFullScreenAttacks.children[0]);
      }
    }, 1500);
    
    // Randomize laptop attack messages for more dynamic effect
    const cyberLaptopAttackMessages = document.querySelectorAll('.cyber-attack-line');
    const cyberShortMessages = [
      "ATTACK: 40%",
      "ATTACK: 50%",
      "ATTACK: 60%",
      "ATTACK: 70%",
      "ATTACK: 80%",
      "SENDING FILE",
      "PORT 443",
      "FIREWALL BYPASSED",
      "DATA TRANSFER",
      "SYSTEM 20%",
      "MALWARE DETECTED",
      "UNAUTHORIZED ACCESS",
      "DATA LEAK",
      "BACKDOOR INSTALLED",
      "RANSOMWARE"
    ];
    
    setInterval(() => {
      cyberLaptopAttackMessages.forEach(line => {
        const randomMessage = cyberShortMessages[Math.floor(Math.random() * cyberShortMessages.length)];
        line.textContent = randomMessage;
        // Randomize animation duration for more dynamic effect
        line.style.animationDuration = (3 + Math.random() * 3) + 's';
      });
    }, 5000);

    // ========== SERVICE DATA ==========
    const serviceDetails = {
      penetration: {
        title: "Penetration Testing",
        description: "<p>Full-scope penetration tests that mimic real-world attacks to find flaws in networks, systems and web applications.</p>",
        topics: ["Network Pen Testing", "Web App Testing", "API Security", "Privilege Escalation"],
        human: "Senior ethical hackers with manual validation and remediation coaching.",
        deliverables: ["Executive summary", "Technical findings", "Remediation priority list", "Retest report"]
      },
      incident: {
        title: "Incident Response & Forensics",
        description: "<p>Rapid triage, containment and post-incident forensics to restore safe operations and preserve evidence.</p>",
        topics: ["Containment", "Forensic Collection", "Malware Analysis", "Recovery"],
        human: "On-call incident handlers who guide you step-by-step and coordinate recovery.",
        deliverables: ["Containment actions", "Forensic timeline", "Mitigation plan", "Post-incident report"]
      },
      monitoring: {
        title: "24/7 Monitoring (SOC)",
        description: "<p>Continuous monitoring using SIEM and human analysts to detect and respond to suspicious activity quickly.</p>",
        topics: ["Log Collection", "Alert Triage", "Threat Hunting", "Response"],
        human: "Dedicated SOC analysts who investigate alerts and escalate real incidents.",
        deliverables: ["Alert summaries", "Incident tickets", "Monthly SOC report", "Tuning guidance"]
      },
      cloudsec: {
        title: "Cloud & Infrastructure Security",
        description: "<p>Security reviews for cloud environments, secure configuration hardening and IAM improvements.</p>",
        topics: ["Configuration Review", "IAM Hardening", "Network Controls", "Backup Strategy"],
        human: "Cloud security engineers who implement best-practice controls and training.",
        deliverables: ["Config checklist", "Remediation tasks", "Architecture guidance"]
      },
      appsec: {
        title: "Application Security (DevSecOps)",
        description: "<p>Integrate security into your SDLC with code reviews, automated scans and developer training.</p>",
        topics: ["SAST", "DAST", "Secure SDLC", "Dependency Scans"],
        human: "Appsec engineers and devs who work with your team to fix findings.",
        deliverables: ["Code findings", "PR guidance", "CI pipeline checks"]
      },
      iam: {
        title: "Identity & Access Management",
        description: "<p>Design and implement role-based access, MFA and lifecycle processes to reduce account risk.</p>",
        topics: ["MFA", "RBAC", "Provisioning", "Access Reviews"],
        human: "IAM specialists who run access reviews and cleanups.",
        deliverables: ["Role model", "MFA rollout plan", "Access review reports"]
      },
      vuln: {
        title: "Vulnerability Management & Patching",
        description: "<p>Scheduled scanning, human validation, prioritization and patch orchestration to lower attack surface.</p>",
        topics: ["Regular Scans", "Triage", "Patching", "Verification"],
        human: "Engineers who prioritize findings by risk and coordinate fixes with ops.",
        deliverables: ["Vulnerability dashboard", "Risk prioritization", "Patch schedule"]
      },
      encryption: {
        title: "Data Protection & Encryption",
        description: "<p>Data discovery, classification and encryption at-rest/in-transit with key management guidance.</p>",
        topics: ["Data Classification", "AES/TLS", "KMS Design", "Backups"],
        human: "Data security leads who design key management and retention policies.",
        deliverables: ["Data map", "Encryption plan", "Key rotation schedule"]
      },
      threat: {
        title: "Threat Intelligence & Hunting",
        description: "<p>Proactive hunting for indicators of compromise and custom intelligence feeds relevant to your operations.</p>",
        topics: ["Hunting", "IOC Tracking", "Intel Feeds", "Actor Monitoring"],
        human: "Threat hunters with access to community and commercial feeds.",
        deliverables: ["Hunting report", "IOC list", "Mitigation guidance"]
      },
      training: {
        title: "Security Awareness & Training",
        description: "<p>Hands-on workshops, simulated phishing and policy training tailored to staff and youth programs.</p>",
        topics: ["Workshops", "Phishing Simulations", "Policy Design", "Certification"],
        human: "Experienced trainers who run interactive sessions and simulations.",
        deliverables: ["Training materials", "Simulation results", "Policy templates"]
      },
      ecitizen: {
        title: "eCitizen & Gov Portals",
        description: "<p>Assistance with passports, birth certificates, Good Conduct and other government forms.</p>",
        topics: ["Passport Apps", "Certificate Submissions", "Form Filling"],
        human: "Support staff who guide each online step.",
        deliverables: ["Submission confirmation", "Fill assistance"]
      },
      printing: {
        title: "Printing & Photocopy",
        description: "<p>High-quality printing, posters and bulk photocopying.</p>",
        topics: ["Color Printing", "Booklets", "Bulk Copies"],
        human: "Print operators and design support.",
        deliverables: ["Printed materials", "Digital PDFs"]
      },
      typing: {
        title: "Typing & CV Services",
        description: "<p>CVs, application letters and document formatting.</p>",
        topics: ["CV Design", "Formatting", "Editing"],
        human: "Office staff who format and proof-read.",
        deliverables: ["Final CV", "Cover Letter"]
      },
      wifi: {
        title: "WiFi & Internet Access",
        description: "<p>Secure browsing stations, managed access and bandwidth packages.</p>",
        topics: ["Managed WiFi", "Session Isolation", "Bandwidth Plans"],
        human: "On-site staff to assist with sessions.",
        deliverables: ["Session passes", "Bandwidth receipts"]
      },
      softwaredev: {
        title: "Software & Web Services",
        description: "<p>Websites, mobile apps and local software solutions for small business.</p>",
        topics: ["Web Design", "Mobile Apps", "Maintenance"],
        human: "Developers and support engineers.",
        deliverables: ["Site files", "Hosting guidance"]
      },
      lamination: {
        title: "Lamination & Binding",
        description: "<p>Document finishing for certificates and IDs.</p>",
        topics: ["Lamination", "Binding", "Certificate Finishing"],
        human: "Print finishers.",
        deliverables: ["Laminated documents"]
      }
    };

    // ========== AI CHAT FUNCTIONALITY ==========
    const aiResponses = {
      greetings: [
        "Hello! How can I assist you with Manlung Tech City services today?",
        "Hi there! I'm here to help with cybersecurity, cyber café services, or any tech support you need.",
        "Welcome! Ask me about our services, pricing, or how we can help secure your digital assets."
      ],
      cybersecurity: [
        "We offer comprehensive cybersecurity services including penetration testing, incident response, 24/7 monitoring, and security training. Our human-led approach ensures personalized protection for your business.",
        "Our cybersecurity portfolio includes vulnerability management, cloud security, application security, and threat intelligence. We combine automated tools with expert analysis for maximum protection.",
        "From penetration testing to security awareness training, we provide end-to-end cybersecurity solutions. Each service includes hands-on support and clear deliverables."
      ],
      cybercafe: [
        "Our cyber café services include printing, scanning, photocopying, typing services, CV preparation, and secure Wi-Fi access. We also offer lamination and binding services.",
        "At our cyber café, you can access eCitizen services, get help with government forms, use our high-speed internet, and get professional document formatting assistance.",
        "We provide a full range of cyber café services: printing (color and B&W), scanning to PDF, professional typing, CV creation, and secure internet browsing stations."
      ],
      kra: [
        "We offer complete KRA support including PIN registration, PIN replacement, iTax returns filing, Tax Compliance Certificates, and employer registration services.",
        "Our KRA services cover everything from new PIN applications to tax return filings and compliance certificates. We guide you through every step of the KRA online process.",
        "Get assistance with all KRA matters: PIN registration for individuals and businesses, tax returns, TCC applications, and employer compliance services."
      ],
      contact: [
        "You can reach us at: Location: Tech City, Nairobi | Phone: +254 724 356 178 | Telegram: @manlungtechcitybot | Hours: Mon-Fri 9AM-6PM",
        "Contact Manlung Tech City via phone at +254 724 356 178, Telegram @manlungtechcitybot, or visit us at Tech City, Nairobi. We're open Monday to Friday, 9AM to 6PM.",
        "Get in touch: Call +254 724 356 178, message us on Telegram @manlungtechcitybot, or visit our location in Tech City, Nairobi. Business hours: Mon-Fri 9AM-6PM."
      ],
      pricing: [
        "Pricing varies by service. For cybersecurity services, we offer customized quotes based on your specific needs. Cyber café services have standard rates - contact us for details.",
        "We provide personalized pricing for cybersecurity services after assessing your requirements. Cyber café services are affordably priced - visit us or contact for current rates.",
        "Our pricing is tailored to each client's needs. For accurate quotes on cybersecurity services or current cyber café service rates, please contact us directly."
      ],
      hours: [
        "We're open Monday to Friday from 9:00 AM to 6:00 PM. For emergency cybersecurity incidents, we offer 24/7 response services.",
        "Business hours: Monday-Friday, 9AM-6PM. Our 24/7 cybersecurity monitoring and incident response services are always available for urgent matters.",
        "Visit us Monday through Friday, 9AM to 6PM. Our cybersecurity SOC operates 24/7 for continuous protection and rapid incident response."
      ],
      default: [
        "I'm not sure I understand. Could you rephrase your question? I can help with cybersecurity, cyber café services, KRA support, or contact information.",
        "I'm still learning! Try asking about our cybersecurity services, cyber café offerings, KRA support, or how to contact us.",
        "I'm here to help with Manlung Tech City services. You can ask me about cybersecurity, our cyber café, KRA services, or how to get in touch with us."
      ]
    };

    function getAIResponse(message) {
      const lowerMessage = message.toLowerCase();
      
      if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
        return aiResponses.greetings[Math.floor(Math.random() * aiResponses.greetings.length)];
      }
      
      if (lowerMessage.includes('cyber') && lowerMessage.includes('security')) {
        return aiResponses.cybersecurity[Math.floor(Math.random() * aiResponses.cybersecurity.length)];
      }
      
      if (lowerMessage.includes('cafe') || lowerMessage.includes('café') || lowerMessage.includes('cyber cafe')) {
        return aiResponses.cybercafe[Math.floor(Math.random() * aiResponses.cybercafe.length)];
      }
      
      if (lowerMessage.includes('kra') || lowerMessage.includes('tax') || lowerMessage.includes('pin')) {
        return aiResponses.kra[Math.floor(Math.random() * aiResponses.kra.length)];
      }
      
      if (lowerMessage.includes('contact') || lowerMessage.includes('phone') || lowerMessage.includes('address') || lowerMessage.includes('location')) {
        return aiResponses.contact[Math.floor(Math.random() * aiResponses.contact.length)];
      }
      
      if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('how much')) {
        return aiResponses.pricing[Math.floor(Math.random() * aiResponses.pricing.length)];
      }
      
      if (lowerMessage.includes('hour') || lowerMessage.includes('open') || lowerMessage.includes('time')) {
        return aiResponses.hours[Math.floor(Math.random() * aiResponses.hours.length)];
      }
      
      if (lowerMessage.includes('service') || lowerMessage.includes('offer') || lowerMessage.includes('provide')) {
        return "We offer both cybersecurity services (penetration testing, monitoring, incident response) and cyber café services (printing, KRA support, internet access). Which are you interested in?";
      }
      
      return aiResponses.default[Math.floor(Math.random() * aiResponses.default.length)];
    }

    function addMessageToChat(message, isUser = false) {
      const chatMessages = document.getElementById('aiChatMessages');
      const messageElement = document.createElement('div');
      messageElement.className = `ai-message ${isUser ? 'ai-user-message' : 'ai-bot-message'}`;
      messageElement.textContent = message;
      chatMessages.appendChild(messageElement);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function showTypingIndicator() {
      const typingIndicator = document.getElementById('aiTypingIndicator');
      typingIndicator.style.display = 'block';
      document.getElementById('aiChatMessages').scrollTop = document.getElementById('aiChatMessages').scrollHeight;
    }

    function hideTypingIndicator() {
      document.getElementById('aiTypingIndicator').style.display = 'none';
    }

    function sendMessage() {
      const input = document.getElementById('aiInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      // Add user message to chat
      addMessageToChat(message, true);
      
      // Clear input
      input.value = '';
      
      // Show typing indicator
      showTypingIndicator();
      
      // Simulate AI thinking and response
      setTimeout(() => {
        hideTypingIndicator();
        const response = getAIResponse(message);
        addMessageToChat(response);
      }, 1000 + Math.random() * 1000);
    }

    function insertExample(text) {
      document.getElementById('aiInput').value = text;
      document.getElementById('aiInput').focus();
    }

    // ========== NOTIFICATION SYSTEM ==========
    function showNotification(message, type = 'info') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.style.display = 'block';
      
      if (type === 'success') {
        notification.style.background = 'var(--neon)';
        notification.style.color = '#000';
      } else if (type === 'error') {
        notification.style.background = '#ff4444';
        notification.style.color = '#fff';
      }
      
      setTimeout(() => {
        notification.style.display = 'none';
      }, 4000);
    }

    // ========== MODAL SYSTEM ==========
    function openServiceModal(key) {
      const data = serviceDetails[key];
      if (!data) return;
      
      document.getElementById('modalTitle').textContent = data.title;
      document.getElementById('modalDescription').innerHTML = data.description || '';
      
      const what = document.getElementById('modalWhat');
      what.innerHTML = '';
      (data.topics || []).forEach(t => {
        const li = document.createElement('li');
        li.textContent = t;
        what.appendChild(li);
      });
      
      document.getElementById('modalHuman').textContent = data.human || '';
      
      const deliver = document.getElementById('modalDeliver');
      deliver.innerHTML = '';
      (data.deliverables || []).forEach(d => {
        const li = document.createElement('li');
        li.textContent = d;
        deliver.appendChild(li);
      });
      
      const topics = document.getElementById('modalTopics');
      topics.innerHTML = '';
      (data.topics || []).forEach(t => {
        const d = document.createElement('div');
        d.className = 'service-badge';
        d.textContent = t;
        topics.appendChild(d);
      });
      
      // Set hidden service field for the lead form
      const leadService = document.getElementById('leadService');
      if (leadService) leadService.value = data.title || key;
      
      const modal = document.getElementById('serviceModal');
      modal.classList.add('open');
      modal.setAttribute('aria-hidden', 'false');
    }

    function closeModal() {
      const modal = document.getElementById('serviceModal');
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden', 'true');
    }

    // ========== CONTACT FORM HANDLER ==========
    document.getElementById('contactForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      const btnText = document.getElementById('btnText');
      const responseMessage = document.getElementById('responseMessage');
      
      // Get form values
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;
      const message = document.getElementById('message').value;
      
      // Show loading state
      submitBtn.disabled = true;
      btnText.innerHTML = '<span class="contact-loading"></span> Sending...';
      
      // Telegram bot details
      const botToken = '7982454530:AAEJ9hPj4s7Isk07AUANZlCPac_7pmpDiTE';
      const chatId = '7261236992';
      
      // Format the message for Telegram
      const telegramMessage = `👋New message from manlung-Tech-city site :\n\nName💗: ${name}\nPhone👥: ${phone}\nMessage💌: ${message}`;
      
      // Send message to Telegram
      fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          chat_id: chatId,
          text: telegramMessage,
          parse_mode: 'HTML'
        })
      })
      .then(response => response.json())
      .then(data => {
        if (data.ok) {
          // Success
          responseMessage.textContent = 'Message sent successfully! We will contact you soon.';
          responseMessage.className = 'contact-message contact-success';
          responseMessage.style.display = 'block';
          
          // Reset form
          document.getElementById('contactForm').reset();
        } else {
          // Error from Telegram API
          throw new Error(data.description || 'Failed to send message');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        responseMessage.textContent = 'Failed to send message. Please try again later.';
        responseMessage.className = 'contact-message contact-error';
        responseMessage.style.display = 'block';
      })
      .finally(() => {
        // Reset button state
        submitBtn.disabled = false;
        btnText.textContent = 'Send Message';
        
        // Hide message after 5 seconds
        setTimeout(() => {
          responseMessage.style.display = 'none';
        }, 5000);
      });
    });

    // ========== TELEGRAM REDIRECT ==========
    function redirectToTelegram(event, service) {
      event.preventDefault();
      
      const form = event.target;
      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const phone = form.phone ? form.phone.value.trim() : '';
      
      if (!name || !email || !phone) {
        showNotification('Please fill all fields', 'error');
        return;
      }
      
      // Save lead locally (for demo)
      const leadData = {
        name, email, phone, service,
        timestamp: new Date().toISOString(),
        source: 'service-modal'
      };
      saveLeadLocally(leadData);
      
      // Create Telegram message
      const telegramMessage = `New consultation request:%0A%0AName: ${name}%0AEmail: ${email}%0APhone: ${phone}%0AService: ${service}%0ASource: Website`;
      
      // Redirect to Telegram
      window.open(`https://t.me/manlungtechcitybot?start=${encodeURIComponent(telegramMessage)}`, '_blank');
      
      showNotification('Opening Telegram for consultation...');
      closeModal();
    }

    // ========== LOCAL STORAGE FUNCTIONS ==========
    function saveLeadLocally(leadData) {
      let leads = JSON.parse(localStorage.getItem('manlung_leads') || '[]');
      leadData.id = Date.now();
      leads.push(leadData);
      localStorage.setItem('manlung_leads', JSON.stringify(leads));
      updateAdminPanel();
    }

    function updateAdminPanel() {
      const leadsList = document.getElementById('leadsList');
      const leads = JSON.parse(localStorage.getItem('manlung_leads') || '[]');
      
      if (leads.length === 0) {
        leadsList.innerHTML = '<div style="color:#bfb; text-align:center;">No leads stored yet</div>';
        return;
      }
      
      leadsList.innerHTML = leads.slice().reverse().map(lead => `
        <div class="lead-item">
          <div style="display:flex; justify-content:space-between; gap:8px">
            <div>
              <strong>${lead.name || '(no name)'}</strong>
              <div style="font-size:12px; color:#bfb">${lead.email || ''}${lead.phone ? ' • ' + lead.phone : ''}</div>
              <div style="font-size:12px; color:#9f9">${new Date(lead.timestamp).toLocaleString()}</div>
            </div>
            <div style="text-align:right">
              <button data-id="${lead.id}" class="export-btn" style="padding:6px 8px; font-size:12px">Delete</button>
            </div>
          </div>
          <div style="margin-top:8px; color:#dfd; font-size:13px">Service: ${lead.service || 'N/A'}</div>
        </div>
      `).join('');
      
      // Add delete event listeners
      leadsList.querySelectorAll('button[data-id]').forEach(btn => {
        btn.addEventListener('click', function() {
          const id = Number(this.getAttribute('data-id'));
          if (confirm('Delete this lead?')) {
            let leads = JSON.parse(localStorage.getItem('manlung_leads') || '[]');
            leads = leads.filter(lead => lead.id !== id);
            localStorage.setItem('manlung_leads', JSON.stringify(leads));
            updateAdminPanel();
            showNotification('Lead deleted');
          }
        });
      });
    }

    // ========== INITIALIZATION ==========
    document.addEventListener('DOMContentLoaded', function() {
      // Create floating background elements
      const floatingContainer = document.getElementById('floatingElements');
      for (let i = 0; i < 12; i++) {
        const size = Math.floor(Math.random() * 80) + 20;
        const circle = document.createElement('div');
        circle.className = 'floating-circle';
        circle.style.width = size + 'px';
        circle.style.height = size + 'px';
        circle.style.left = Math.random() * 100 + '%';
        circle.style.top = Math.random() * 100 + '%';
        circle.style.opacity = (Math.random() * 0.6) + 0.12;
        circle.style.animationDuration = (Math.random() * 26 + 12) + 's';
        floatingContainer.appendChild(circle);
        
        const ring = document.createElement('div');
        ring.className = 'floating-ring';
        const rsize = Math.floor(Math.random() * 160) + 40;
        ring.style.width = rsize + 'px';
        ring.style.height = rsize + 'px';
        ring.style.left = Math.random() * 100 + '%';
        ring.style.top = Math.random() * 100 + '%';
        ring.style.opacity = (Math.random() * 0.35) + 0.06;
        ring.style.animationDuration = (Math.random() * 30 + 14) + 's';
        floatingContainer.appendChild(ring);
      }

      // Wire up service cards to open modal
      document.querySelectorAll('.service-card').forEach(card => {
        card.addEventListener('click', () => {
          const service = card.getAttribute('data-service');
          if (service) {
            openServiceModal(service);
          }
        });
      });

      // Modal close functionality
      document.getElementById('closeModal').addEventListener('click', closeModal);
      document.getElementById('serviceModal').addEventListener('click', (e) => {
        if (e.target === e.currentTarget) closeModal();
      });

      // Mobile menu toggle
      document.getElementById('mobileMenuToggle').addEventListener('click', () => {
        const navUl = document.querySelector('nav.primary ul');
        if (navUl) {
          const isVisible = navUl.style.display === 'flex';
          navUl.style.display = isVisible ? 'none' : 'flex';
          
          if (window.innerWidth <= 640 && !isVisible) {
            navUl.style.flexDirection = 'column';
            navUl.style.position = 'absolute';
            navUl.style.right = '6%';
            navUl.style.top = '64px';
            navUl.style.background = 'rgba(0,0,0,0.9)';
            navUl.style.padding = '15px';
            navUl.style.borderRadius = '10px';
            navUl.style.border = '1px solid rgba(0,255,0,0.2)';
          }
        }
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
            
            // Close mobile menu if open
            if (window.innerWidth <= 640) {
              const navUl = document.querySelector('nav.primary ul');
              if (navUl) navUl.style.display = 'none';
            }
          }
        });
      });

      // Export leads functionality
      document.getElementById('exportLeads').addEventListener('click', () => {
        const leads = JSON.parse(localStorage.getItem('manlung_leads') || '[]');
        if (leads.length === 0) {
          showNotification('No leads to export', 'error');
          return;
        }
        
        let csv = 'Name,Email,Phone,Service,Timestamp\n';
        leads.forEach(lead => {
          csv += `"${lead.name || ''}","${lead.email || ''}","${lead.phone || ''}","${lead.service || ''}","${lead.timestamp || ''}"\n`;
        });
        
        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `manlung-leads-${new Date().toISOString().split('T')[0]}.csv`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        showNotification(`Exported ${leads.length} leads to CSV`, 'success');
      });

      // Clear leads functionality
      document.getElementById('clearLeads').addEventListener('click', () => {
        if (confirm('Clear all leads from localStorage? This cannot be undone.')) {
          localStorage.removeItem('manlung_leads');
          updateAdminPanel();
          showNotification('All leads cleared', 'success');
        }
      });

      // AI Assistant event listeners
      document.getElementById('aiSendBtn').addEventListener('click', sendMessage);
      document.getElementById('aiInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          sendMessage();
        }
      });

      // Admin panel toggle (Ctrl+K)
      document.addEventListener('keydown', (e) => {
        if (e.ctrlKey && e.key === 'k') {
          e.preventDefault();
          const adminPanel = document.getElementById('adminPanel');
          adminPanel.classList.toggle('open');
          if (adminPanel.classList.contains('open')) {
            updateAdminPanel();
          }
        }
      });

      // Initialize admin panel
      updateAdminPanel();
      
      // Show welcome notification
      setTimeout(() => {
        showNotification('Welcome to Manlung Tech City!', 'success');
      }, 2000);
    });
  </script>
</body>
</html>
